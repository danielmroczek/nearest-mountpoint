<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="title">Ntrip Nearest</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="styles.css">
    <script type="module" src="script.js"></script>
</head>
<body>
    <div class="container">
        <h1 data-i18n="title">NTRIP Mount Point Finder</h1>
        <div class="subtitle" data-i18n="subtitle">ASG-EUPOS Network</div>
        <div class="update-info">
            <span data-i18n="lastUpdate">Last update of mount points database</span>: <span id="update-date"></span>
        </div>
        <div class="card">
            <div id="mount-point-info">
                <h2><span data-i18n="nearestPoint">Nearest Mount Point</span>:</h2>
                <p id="mount-point-details">
                    <span class="loading"></span>
                    <span data-i18n="fetchingLocation">Fetching your location...</span>
                </p>
                <button class="retry-button" onclick="retryLocation()" data-i18n="tryAgain"></button>
                <button class="show-details-button" onclick="toggleMountPoints()" data-i18n="showAll"></button>
            </div>
        </div>
    </div>
    
    <template id="mount-point-template">
        <div class="mount-point-name" role="button" title="Click to copy"></div>
        <div class="location-info">
            <div><span data-i18n="mountPointLocation">Mount point location</span>: <strong class="mount-location"></strong></div>
            <div><span data-i18n="mountPointPlace">Mount point place</span>: <strong class="mount-place"></strong></div>
            <div><span data-i18n="yourLocation">Your location</span>: <strong class="user-location"></strong></div>
            <div><span data-i18n="locationMethod">Location method</span>: <strong class="location-method"></strong></div>
        </div>
    </template>

    <template id="mount-points-table-template">
        <table class="mount-points-table">
            <thead>
                <tr>
                    <th data-i18n="mountPointName">Mount Point</th>
                    <th data-i18n="mountPointLocation">Location</th>
                    <th data-i18n="mountPointPlace">Place</th>
                    <th data-i18n="distance">Distance</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </template>

    <template id="mount-point-row-template">
        <tr>
            <td class="point-name" role="button" title="Click to copy"></td>
            <td class="point-location"></td>
            <td class="point-place"></td>
            <td class="point-distance"></td>
        </tr>
    </template>

    <template id="loading-template">
        <span class="loading"></span>
        <span data-i18n="fetchingLocation">Fetching your location...</span>
    </template>

    <footer class="footer">
        <a href="https://github.com/danielmroczek/ntrip-nearest" target="_blank" rel="noopener">GitHub</a>
    </footer>

</body>
</html>